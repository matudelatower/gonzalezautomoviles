{% extends 'ThemeBundle:Default:layout_base.html.twig' %}

{% block content_title %}
    Formulario de Edicion
{% endblock %}
{% block javascripts %}
    {{ parent() }}
    <script>
        $(document).ready(function () {
        $(".maskdocumento").inputmask({mask: "**[*][*]-*****[*][*]-*-**", greedy: false});
                $(".maskmoney").inputmask('decimal', {rightAlign: false});
                $('#{{ edit_form.tipoVentaEspecial.vars.id }}').change(function () {
        console.log($(this).val());
                var id = $(this).val()

                $.ajax({
                url: "{{ path('get_muestra_campos_plan_de_ahorro') }}",
                        method: "GET",
                        data: {id: id},
                        success: function (data) {
                        if (data.muestra_plan_ahorro == true) {
                        $('.tipo-venta-especial-field').removeClass('hidden');
                                $('.tipo-venta-especial-field').attr('required', 'required');
                        } else {

                        $('.tipo-venta-especial-field').addClass('hidden');
                                $('.tipo-venta-especial-field').removeAttr('required');
                                $('.tipo-venta-especial-field').val('');
                        }
                        }
                });
        })
                $('#{{ edit_form.vin.vars.id }}').keyup(function () {
        $('#{{ edit_form.chasis.vars.id }}').val($('#{{ edit_form.vin.vars.id }}').val());
        });
        });
                window.onload = function (e) {
                if ({{entity.tipoVentaEspecial.muestraPlanDeAhorro|default('false')}}){
                $('.tipo-venta-especial-field').removeClass('hidden');
                        $('.tipo-venta-especial-field').attr('required', 'required');
                } else{
                $('.tipo-venta-especial-field').removeAttr('required');
                }
                }

    </script>
{% endblock %}
{% block content -%}
    <div class="row">
        <div class="col-md-12">
            <div class="box box-primary">
                <div class="box-header with-border">
                    <h3 class="box-title">Vehiculo</h3>
                </div>
                {{ form(edit_form) }}
                <a class="btn btn-default" href="{{ path('vehiculos_transito_index') }}">
                    Volver
                </a>
            </div>
        </div>
    </div>

{% endblock %}
